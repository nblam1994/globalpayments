"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const src_1 = require("../../../../src");
const config = new src_1.PorticoConfig();
beforeAll(() => {
    config.secretApiKey = "skapi_cert_MXDMBQDwa3IAA4GV7NGMqQA_wFR3_TNeamFWoNUu_Q";
    src_1.ServicesContainer.configureService(config);
});
test("report activity", () => {
    const start = new Date(Date.now());
    start.setDate(start.getDate() - 7);
    const end = new Date(Date.now());
    return src_1.ReportingService.activity()
        .withStartDate(start)
        .withEndDate(end)
        .execute()
        .then((activity) => {
        expect(activity).toBeTruthy();
        expect(activity.length > 0).toBe(true);
    });
});
test("report transaction detail", () => {
    const start = new Date(Date.now());
    start.setDate(start.getDate() - 7);
    const end = new Date(Date.now());
    return src_1.ReportingService.activity()
        .withStartDate(start)
        .withEndDate(end)
        .execute()
        .then((activity) => {
        expect(activity).toBeTruthy();
        if (activity.length > 0) {
            return src_1.ReportingService.transactionDetail(activity[0].transactionId)
                .execute()
                .then((detail) => {
                expect(detail).toBeTruthy();
                expect(detail.gatewayResponseCode).toBe("00");
            });
        }
        expect.assertions(1);
        return Promise.resolve();
    });
});
//# sourceMappingURL=Reporting.test.js.map